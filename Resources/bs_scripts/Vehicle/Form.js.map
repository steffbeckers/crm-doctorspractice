{"version":3,"sources":["bs_scripts/Vehicle/Form.js","bs_scripts/Vehicle/Form.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","result","done","then","apply","BSS","Vehicle","Form","OnLoad","ModelSelection","init","ConfigurationSelection","FormHelper","isReadonly","isFieldOnForm","onChange","BrandOnChangeAsync","disabled","isCreate","ContractOnChangeAsync"],"mappings":"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","file":"bs_scripts/Vehicle/Form.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n};\nvar BSS;\n(function (BSS) {\n    var Vehicle;\n    (function (Vehicle) {\n        var Form;\n        (function (Form) {\n            function OnLoad() {\n                (new ModelSelection()).init();\n                (new ConfigurationSelection()).init();\n            }\n            Form.OnLoad = OnLoad;\n            class ModelSelection {\n                init() {\n                    if (BSS.FormHelper.isReadonly())\n                        return;\n                    if (!BSS.FormHelper.isFieldOnForm(\"bs_brandid\"))\n                        return;\n                    if (!BSS.FormHelper.isFieldOnForm(\"bs_modelid\"))\n                        return;\n                    BSS.FormHelper.onChange(\"bs_brandid\", this.BrandOnChangeAsync, this);\n                    this.BrandOnChangeAsync(true);\n                }\n                BrandOnChangeAsync(init) {\n                    return __awaiter(this, void 0, void 0, function* () {\n                        var value = BSS.FormHelper.value(\"bs_brandid\");\n                        if (init != true) {\n                            BSS.FormHelper.value(\"bs_modelid\", null, true);\n                        }\n                        if (value == null) {\n                            BSS.FormHelper.disabled(\"bs_modelid\", true);\n                            return;\n                        }\n                        BSS.FormHelper.disabled(\"bs_modelid\", false);\n                    });\n                }\n            }\n            class ConfigurationSelection {\n                init() {\n                    if (!BSS.FormHelper.isCreate()) {\n                        BSS.FormHelper.disabled(\"bs_contractid\", true);\n                        return;\n                    }\n                    if (BSS.FormHelper.isReadonly())\n                        return;\n                    if (!BSS.FormHelper.isFieldOnForm(\"bs_contractid\"))\n                        return;\n                    if (!BSS.FormHelper.isFieldOnForm(\"bs_vehicleconfigurationid\"))\n                        return;\n                    BSS.FormHelper.onChange(\"bs_contractid\", this.ContractOnChangeAsync, this);\n                    this.ContractOnChangeAsync(true);\n                }\n                ContractOnChangeAsync(init) {\n                    return __awaiter(this, void 0, void 0, function* () {\n                        var value = BSS.FormHelper.value(\"bs_contractid\");\n                        if (init != true) {\n                            BSS.FormHelper.value(\"bs_vehicleconfigurationid\", null, true);\n                        }\n                        if (value == null) {\n                            BSS.FormHelper.disabled(\"bs_vehicleconfigurationid\", true);\n                            return;\n                        }\n                        BSS.FormHelper.disabled(\"bs_vehicleconfigurationid\", false);\n                    });\n                }\n            }\n        })(Form = Vehicle.Form || (Vehicle.Form = {}));\n    })(Vehicle = BSS.Vehicle || (BSS.Vehicle = {}));\n})(BSS || (BSS = {}));\n","namespace BSS.Vehicle.Form {\r\n    export function OnLoad() {\r\n        (new ModelSelection()).init();\r\n        (new ConfigurationSelection()).init();\r\n    }\r\n\r\n    class ModelSelection {\r\n        public init() {\r\n            if (FormHelper.isReadonly()) return;\r\n            if (!FormHelper.isFieldOnForm(\"bs_brandid\")) return;\r\n            if (!FormHelper.isFieldOnForm(\"bs_modelid\")) return;           \r\n            FormHelper.onChange(\"bs_brandid\", this.BrandOnChangeAsync, this);\r\n            this.BrandOnChangeAsync(true);\r\n        }\r\n\r\n        private async BrandOnChangeAsync(init) {\r\n            var value = FormHelper.value(\"bs_brandid\");\r\n\r\n            if (init != true) {\r\n                FormHelper.value(\"bs_modelid\", null, true);\r\n            }\r\n            if (value == null) {\r\n                FormHelper.disabled(\"bs_modelid\", true);\r\n                return;\r\n            }\r\n\r\n            FormHelper.disabled(\"bs_modelid\", false);\r\n        }\r\n    }\r\n\r\n    class ConfigurationSelection {\r\n        public init() {\r\n            if (!FormHelper.isCreate()) {\r\n                FormHelper.disabled(\"bs_contractid\", true);\r\n                return;\r\n            }\r\n            if (FormHelper.isReadonly()) return;\r\n            if (!FormHelper.isFieldOnForm(\"bs_contractid\")) return;\r\n            if (!FormHelper.isFieldOnForm(\"bs_vehicleconfigurationid\")) return;\r\n            FormHelper.onChange(\"bs_contractid\", this.ContractOnChangeAsync, this);\r\n            this.ContractOnChangeAsync(true);\r\n        }\r\n\r\n        private async ContractOnChangeAsync(init) {\r\n            var value = FormHelper.value(\"bs_contractid\");\r\n\r\n            if (init != true) {\r\n                FormHelper.value(\"bs_vehicleconfigurationid\", null, true);\r\n            }\r\n            if (value == null) {\r\n                FormHelper.disabled(\"bs_vehicleconfigurationid\", true);\r\n                return;\r\n            }\r\n\r\n            FormHelper.disabled(\"bs_vehicleconfigurationid\", false);\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}