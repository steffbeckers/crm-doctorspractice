{"version":3,"sources":["bs_scripts/SapPricingPeriod/Form.js","bs_scripts/SapPricingPeriod/Form.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","result","done","then","apply","BSS","SapPricingPeriod","Form","OnLoad","DisableUsed","init","DateComparison","FormHelper","isReadonly","isFieldOnForm","onChange","DateComparisonAsync","from","to","alert","used","disableForm"],"mappings":";;;;;;AAAA,IAAIA,YAAa,aAAQ,UAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,WAAO,KAAKD,MAAMA,IAAIE,OAAV,CAAL,EAAyB,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACvD,iBAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAE,gBAAI;AAAEC,qBAAKN,UAAUO,IAAV,CAAeF,KAAf,CAAL;AAA8B,aAApC,CAAqC,OAAOG,CAAP,EAAU;AAAEL,uBAAOK,CAAP;AAAY;AAAE;AAC3F,iBAASC,QAAT,CAAkBJ,KAAlB,EAAyB;AAAE,gBAAI;AAAEC,qBAAKN,UAAUU,KAAV,CAAgBL,KAAhB,CAAL;AAA+B,aAArC,CAAsC,OAAOG,CAAP,EAAU;AAAEL,uBAAOK,CAAP;AAAY;AAAE;AAC3F,iBAASF,IAAT,CAAcK,MAAd,EAAsB;AAAEA,mBAAOC,IAAP,GAAcV,QAAQS,OAAON,KAAf,CAAd,GAAsC,IAAIN,CAAJ,CAAM,UAAUG,OAAV,EAAmB;AAAEA,wBAAQS,OAAON,KAAf;AAAwB,aAAnD,EAAqDQ,IAArD,CAA0DT,SAA1D,EAAqEK,QAArE,CAAtC;AAAuH;AAC/IH,aAAK,CAACN,YAAYA,UAAUc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAzB,CAAb,EAAmDS,IAAnD,EAAL;AACH,KALM,CAAP;AAMH,CAPD;ACAA,IAAUQ,GAAV;AAAA,CAAA,UAAUA,GAAV,EAAa;AAAC,QAAAC,gBAAA;AAAA,KAAA,UAAAA,gBAAA,EAAgB;AAAC,YAAAC,IAAA;AAAA,SAAA,UAAAA,IAAA,EAAK;AAChC,qBAAAC,MAAA,GAAA;AACK,oBAAIC,WAAJ,EAAD,CAAoBC,IAApB;AACC,oBAAIC,cAAJ,EAAD,CAAuBD,IAAvB;AACH;AAHeH,iBAAAC,MAAA,GAAMA,MAAN;;AADgB,gBAMhCG,cANgC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,2CAOjB;AACP,4BAAIN,IAAAO,UAAA,CAAWC,UAAX,EAAJ,EAA6B;AAC7B,4BAAI,CAACR,IAAAO,UAAA,CAAWE,aAAX,CAAyB,SAAzB,CAAL,EAA0C;AAC1C,4BAAI,CAACT,IAAAO,UAAA,CAAWE,aAAX,CAAyB,OAAzB,CAAL,EAAwC;AACxCT,4BAAAO,UAAA,CAAWG,QAAX,CAAoB,SAApB,EAA+B,KAAKC,mBAApC,EAAyD,IAAzD;AACAX,4BAAAO,UAAA,CAAWG,QAAX,CAAoB,OAApB,EAA6B,KAAKC,mBAAlC,EAAuD,IAAvD;AACH;AAb2B;AAAA;AAAA,wDAeMN,IAfN,EAeU;ADgB1B,+BAAOxB,UAAU,IAAV,EAAgB,KAAK,CAArB,EAAwB,KAAK,CAA7B,0BAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;ACf3C+B,gDDe2C,GCfpCZ,IAAAO,UAAA,CAAWjB,KAAX,CAAiB,SAAjB,CDeoC;ACd3CuB,8CDc2C,GCdtCb,IAAAO,UAAA,CAAWjB,KAAX,CAAiB,OAAjB,CDcsC;;AAAA,kDCZ3CsB,QAAQ,IAAR,IAAgBC,MAAM,IDYqB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,kDCX3CD,OAAOC,EDWoC;AAAA;AAAA;AAAA;;AAAA;;AAAA;ACT/CC,kDAAM,0CAAN;AACAd,gDAAAO,UAAA,CAAWjB,KAAX,CAAiB,OAAjB,EAA0B,IAA1B,EAAgC,IAAhC;;ADQ+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAhC,EAAP;ACPX;AAxB2B;;AAAA;AAAA;;AAAA,gBA2BhCc,WA3BgC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,2CA4BjB;AACP,4BAAIW,OAAOf,IAAAO,UAAA,CAAWjB,KAAX,CAAiB,SAAjB,CAAX;AACA,4BAAIyB,QAAQ,IAAZ,EAAkBf,IAAAO,UAAA,CAAWS,WAAX,CAAuBD,IAAvB;AACrB;AA/B2B;;AAAA;AAAA;AAiCnC,SAjC8B,EAAAb,OAAAD,iBAAAC,IAAA,KAAAD,iBAAAC,IAAA,GAAI,EAAJ,CAAA;AAiC9B,KAjCa,EAAAD,mBAAAD,IAAAC,gBAAA,KAAAD,IAAAC,gBAAA,GAAgB,EAAhB,CAAA;AAiCb,CAjCD,EAAUD,QAAAA,MAAG,EAAH,CAAV","file":"bs_scripts/SapPricingPeriod/Form.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n};\nvar BSS;\n(function (BSS) {\n    var SapPricingPeriod;\n    (function (SapPricingPeriod) {\n        var Form;\n        (function (Form) {\n            function OnLoad() {\n                (new DisableUsed()).init();\n                (new DateComparison()).init();\n            }\n            Form.OnLoad = OnLoad;\n            class DateComparison {\n                init() {\n                    if (BSS.FormHelper.isReadonly())\n                        return;\n                    if (!BSS.FormHelper.isFieldOnForm(\"bs_from\"))\n                        return;\n                    if (!BSS.FormHelper.isFieldOnForm(\"bs_to\"))\n                        return;\n                    BSS.FormHelper.onChange(\"bs_from\", this.DateComparisonAsync, this);\n                    BSS.FormHelper.onChange(\"bs_to\", this.DateComparisonAsync, this);\n                }\n                DateComparisonAsync(init) {\n                    return __awaiter(this, void 0, void 0, function* () {\n                        var from = BSS.FormHelper.value(\"bs_from\");\n                        var to = BSS.FormHelper.value(\"bs_to\");\n                        if (from == null || to == null)\n                            return;\n                        if (from < to)\n                            return;\n                        alert(\"BSS.CRM.SAPPricingPeriod.ToNotBeforeFrom\");\n                        BSS.FormHelper.value(\"bs_to\", null, true);\n                    });\n                }\n            }\n            class DisableUsed {\n                init() {\n                    var used = BSS.FormHelper.value(\"bs_used\");\n                    if (used == true)\n                        BSS.FormHelper.disableForm(used);\n                }\n            }\n        })(Form = SapPricingPeriod.Form || (SapPricingPeriod.Form = {}));\n    })(SapPricingPeriod = BSS.SapPricingPeriod || (BSS.SapPricingPeriod = {}));\n})(BSS || (BSS = {}));\n","namespace BSS.SapPricingPeriod.Form {\r\n    export function OnLoad() {\r\n        (new DisableUsed()).init();\r\n        (new DateComparison()).init();\r\n    }\r\n\r\n    class DateComparison {\r\n        public init() {\r\n            if (FormHelper.isReadonly()) return;\r\n            if (!FormHelper.isFieldOnForm(\"bs_from\")) return;\r\n            if (!FormHelper.isFieldOnForm(\"bs_to\")) return;\r\n            FormHelper.onChange(\"bs_from\", this.DateComparisonAsync, this);\r\n            FormHelper.onChange(\"bs_to\", this.DateComparisonAsync, this);\r\n        }\r\n\r\n        private async DateComparisonAsync(init) {\r\n            var from = FormHelper.value(\"bs_from\");\r\n            var to = FormHelper.value(\"bs_to\");\r\n\r\n            if (from == null || to == null) return;\r\n            if (from < to) return;\r\n\r\n            alert(\"BSS.CRM.SAPPricingPeriod.ToNotBeforeFrom\")\r\n            FormHelper.value(\"bs_to\", null, true);\r\n        }\r\n    }\r\n\r\n    class DisableUsed {\r\n        public init() {\r\n            var used = FormHelper.value(\"bs_used\");\r\n            if (used == true) FormHelper.disableForm(used);\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}