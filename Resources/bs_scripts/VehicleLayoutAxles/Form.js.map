{"version":3,"sources":["bs_scripts/VehicleLayoutAxles/Form.js","bs_scripts/VehicleLayoutAxles/Form.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","result","done","then","apply","BSS","VehicleLayoutAxles","Form","OnLoad","CopyDefaultPosition","init","FormHelper","isReadonly","isFieldOnForm","onChange","positionOnChangeAsync","hasValue","Data","RetrieveAsync","type"],"mappings":"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","file":"bs_scripts/VehicleLayoutAxles/Form.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n};\nvar BSS;\n(function (BSS) {\n    var VehicleLayoutAxles;\n    (function (VehicleLayoutAxles) {\n        var Form;\n        (function (Form) {\n            function OnLoad() {\n                (new CopyDefaultPosition()).init();\n            }\n            Form.OnLoad = OnLoad;\n            class CopyDefaultPosition {\n                // Copy the field default position when type is selected\n                init() {\n                    if (BSS.FormHelper.isReadonly())\n                        return;\n                    if (!BSS.FormHelper.isFieldOnForm(\"bs_position\"))\n                        return;\n                    if (!BSS.FormHelper.isFieldOnForm(\"bs_vehiclelayoutaxletypeid\"))\n                        return;\n                    BSS.FormHelper.onChange(\"bs_vehiclelayoutaxletypeid\", this.positionOnChangeAsync, this);\n                }\n                positionOnChangeAsync() {\n                    return __awaiter(this, void 0, void 0, function* () {\n                        if (BSS.FormHelper.hasValue(\"bs_position\"))\n                            return;\n                        var value = BSS.FormHelper.value(\"bs_vehiclelayoutaxletypeid\");\n                        if (value == null)\n                            return;\n                        var type = yield BSS.Data.RetrieveAsync(\"bs_vehiclelayoutaxletype\", value[0]['id'], [\"bs_defaultposition\"]);\n                        if (!type[\"bs_defaultposition\"])\n                            return;\n                        BSS.FormHelper.value(\"bs_position\", type[\"bs_defaultposition\"]);\n                    });\n                }\n            }\n        })(Form = VehicleLayoutAxles.Form || (VehicleLayoutAxles.Form = {}));\n    })(VehicleLayoutAxles = BSS.VehicleLayoutAxles || (BSS.VehicleLayoutAxles = {}));\n})(BSS || (BSS = {}));\n","namespace BSS.VehicleLayoutAxles.Form\r\n{\r\n    export function OnLoad()\r\n    {\r\n        (new CopyDefaultPosition()).init();\r\n    }\r\n\r\n    class CopyDefaultPosition\r\n    {\r\n        // Copy the field default position when type is selected\r\n\r\n        public init()\r\n        {\r\n            if (FormHelper.isReadonly()) return;\r\n            if (!FormHelper.isFieldOnForm(\"bs_position\")) return;\r\n            if (!FormHelper.isFieldOnForm(\"bs_vehiclelayoutaxletypeid\")) return;\r\n\r\n            FormHelper.onChange(\"bs_vehiclelayoutaxletypeid\", this.positionOnChangeAsync, this);\r\n        }\r\n\r\n        private async positionOnChangeAsync()\r\n        {\r\n            if (FormHelper.hasValue(\"bs_position\")) return;\r\n\r\n            var value = FormHelper.value(\"bs_vehiclelayoutaxletypeid\");\r\n            if (value == null) return;\r\n\r\n            var type = await Data.RetrieveAsync(\"bs_vehiclelayoutaxletype\", value[0]['id'], [\"bs_defaultposition\"]);\r\n\r\n            if (!type[\"bs_defaultposition\"]) return;\r\n\r\n            FormHelper.value(\"bs_position\", type[\"bs_defaultposition\"]);\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}